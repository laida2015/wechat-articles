# ğŸš€ å¿«é€Ÿéƒ¨ç½²å¡ç‰‡

ä¸€é¡µçº¸æå®šæ‰€æœ‰éƒ¨ç½²ï¼

---

## ğŸ“‹ éœ€è¦æ³¨å†Œçš„ç½‘ç«™ï¼ˆ5ä¸ªï¼‰

| ç½‘ç«™ | ç”¨é€” | æ³¨å†Œæ–¹å¼ | è´¹ç”¨ |
|------|------|----------|------|
| [Neon](https://neon.tech/) | æ•°æ®åº“ | GitHub ç™»å½• | å…è´¹ |
| [DeepSeek](https://platform.deepseek.com/) | AI API | æ‰‹æœºå· | 10å…ƒ |
| [Render](https://render.com/) | åç«¯æ‰˜ç®¡ | GitHub ç™»å½• | å…è´¹ |
| [Vercel](https://vercel.com/) | å‰ç«¯æ‰˜ç®¡ | GitHub ç™»å½• | å…è´¹ |
| [Upstash](https://upstash.com/) | Redisï¼ˆå¯é€‰ï¼‰ | GitHub ç™»å½• | å…è´¹ |

---

## ğŸ”‘ ç¯å¢ƒå˜é‡é€ŸæŸ¥è¡¨

### å¿…éœ€çš„ 8 ä¸ªå˜é‡

```bash
DATABASE_URL=postgresql://...           # ä» Neon å¤åˆ¶
OPENAI_API_KEY=sk-...                  # ä» DeepSeek å¤åˆ¶
OPENAI_BASE_URL=https://api.deepseek.com/v1
OPENAI_MODEL=deepseek-chat
SECRET_KEY=...                         # ä» randomkeygen.com ç”Ÿæˆ
CORS_ORIGINS=https://...vercel.app     # ä½ çš„ Vercel URL
DEBUG=False
WEWE_RSS_URL=http://localhost:4000
```

### å¯é€‰çš„ 1 ä¸ªå˜é‡

```bash
REDIS_URL=https://...                  # ä» Upstash å¤åˆ¶ï¼ˆå¯é€‰ï¼‰
```

---

## âš¡ 30åˆ†é’Ÿéƒ¨ç½²æµç¨‹

### ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡ç¯å¢ƒå˜é‡ï¼ˆ15åˆ†é’Ÿï¼‰

1. **Neon æ•°æ®åº“**ï¼ˆ3åˆ†é’Ÿï¼‰
   - è®¿é—® https://neon.tech/
   - GitHub ç™»å½• â†’ Create project
   - é¡¹ç›®åï¼š`wechat-articles`
   - åŒºåŸŸï¼šSingapore
   - å¤åˆ¶ Connection string

2. **DeepSeek AI**ï¼ˆ5åˆ†é’Ÿï¼‰
   - è®¿é—® https://platform.deepseek.com/
   - æ‰‹æœºå·æ³¨å†Œ â†’ å……å€¼ 10å…ƒ
   - API Keys â†’ åˆ›å»ºæ–°å¯†é’¥
   - å¤åˆ¶ API Key

3. **SECRET_KEY**ï¼ˆ1åˆ†é’Ÿï¼‰
   - è®¿é—® https://randomkeygen.com/
   - å¤åˆ¶ "Fort Knox Passwords" ä¸­çš„ä¸€ä¸ª

4. **Vercel URL**ï¼ˆ1åˆ†é’Ÿï¼‰
   - æ‰“å¼€ Vercel Dashboard
   - å¤åˆ¶ä½ çš„é¡¹ç›® URL

5. **Upstash Redis**ï¼ˆå¯é€‰ï¼Œ3åˆ†é’Ÿï¼‰
   - è®¿é—® https://upstash.com/
   - GitHub ç™»å½• â†’ Create Database
   - å¤åˆ¶ REST URL

6. **å¡«å†™æ¨¡æ¿**ï¼ˆ2åˆ†é’Ÿï¼‰
   - æ‰“å¼€ `ç¯å¢ƒå˜é‡æ¨¡æ¿.txt`
   - å¡«å…¥æ‰€æœ‰å€¼
   - ä¿å­˜å¤‡ç”¨

---

### ç¬¬äºŒé˜¶æ®µï¼šéƒ¨ç½²åç«¯ï¼ˆ10åˆ†é’Ÿï¼‰

1. **åˆ›å»º Render æœåŠ¡**ï¼ˆ3åˆ†é’Ÿï¼‰
   - è®¿é—® https://render.com/
   - GitHub ç™»å½•
   - New + â†’ Web Service
   - é€‰æ‹© `j-lab-10404/wechat-articles`
   - é…ç½®ï¼š
     ```
     Name: wechat-articles-backend
     Region: Singapore
     Branch: main
     Root Directory: backend
     Runtime: Docker
     Dockerfile Path: ../docker/backend.Dockerfile
     Instance Type: Free
     ```

2. **æ·»åŠ ç¯å¢ƒå˜é‡**ï¼ˆ5åˆ†é’Ÿï¼‰
   - åœ¨ Environment Variables éƒ¨åˆ†
   - é€ä¸ªæ·»åŠ ä½ å‡†å¤‡å¥½çš„ 8 ä¸ªå˜é‡
   - ç‚¹å‡» Create Web Service

3. **ç­‰å¾…éƒ¨ç½²**ï¼ˆ5-10åˆ†é’Ÿï¼‰
   - ç­‰å¾…çŠ¶æ€å˜ä¸º "Live"
   - å¤åˆ¶åç«¯ URL

---

### ç¬¬ä¸‰é˜¶æ®µï¼šè¿æ¥å‰åç«¯ï¼ˆ5åˆ†é’Ÿï¼‰

1. **åˆå§‹åŒ–æ•°æ®åº“**ï¼ˆ2åˆ†é’Ÿï¼‰
   - Render Dashboard â†’ Shell
   - è¿è¡Œï¼š
     ```bash
     python -c "from app.database import init_db; init_db()"
     ```

2. **é…ç½®å‰ç«¯**ï¼ˆ3åˆ†é’Ÿï¼‰
   - Vercel Dashboard â†’ Settings â†’ Environment Variables
   - æ·»åŠ ï¼š
     ```
     Key: VITE_API_BASE_URL
     Value: https://ä½ çš„åç«¯URL/api
     ```
   - Deployments â†’ Redeploy

---

### ç¬¬å››é˜¶æ®µï¼šæµ‹è¯•ï¼ˆ5åˆ†é’Ÿï¼‰

1. **æµ‹è¯•åç«¯**
   - è®¿é—®ï¼š`https://ä½ çš„åç«¯URL/docs`
   - åº”è¯¥çœ‹åˆ° API æ–‡æ¡£

2. **æµ‹è¯•å‰ç«¯**
   - è®¿é—®ï¼š`https://ä½ çš„å‰ç«¯URL`
   - åº”è¯¥èƒ½æ­£å¸¸æ‰“å¼€

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### åç«¯æ— æ³•è®¿é—®ï¼Ÿ

```bash
# æ£€æŸ¥ Render æ—¥å¿—
Render Dashboard â†’ Logs

# æ£€æŸ¥ç¯å¢ƒå˜é‡
Render Dashboard â†’ Environment â†’ ç¡®è®¤æ‰€æœ‰å˜é‡éƒ½å·²è®¾ç½®

# é‡æ–°éƒ¨ç½²
Render Dashboard â†’ Manual Deploy â†’ Deploy latest commit
```

### å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ

```bash
# æ£€æŸ¥ Vercel ç¯å¢ƒå˜é‡
Vercel Dashboard â†’ Settings â†’ Environment Variables
ç¡®è®¤ VITE_API_BASE_URL æ­£ç¡®

# æ£€æŸ¥åç«¯ CORS
Render Dashboard â†’ Environment â†’ CORS_ORIGINS
ç¡®è®¤åŒ…å«å‰ç«¯ URL

# é‡æ–°éƒ¨ç½²å‰ç«¯
Vercel Dashboard â†’ Deployments â†’ Redeploy
```

### æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ

```bash
# æ£€æŸ¥ DATABASE_URL
ç¡®è®¤æ ¼å¼ï¼špostgresql://user:pass@host/db?sslmode=require
ç¡®è®¤åŒ…å« ?sslmode=require

# æµ‹è¯•è¿æ¥
Render Shell:
python -c "from app.database import engine; print(engine.url)"
```

### AI API ä¸å·¥ä½œï¼Ÿ

```bash
# æ£€æŸ¥ DeepSeek ä½™é¢
è®¿é—® https://platform.deepseek.com/
æŸ¥çœ‹è´¦æˆ·ä½™é¢

# æ£€æŸ¥ API Key
ç¡®è®¤ä»¥ sk- å¼€å¤´
ç¡®è®¤æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼

# æ£€æŸ¥é…ç½®
OPENAI_BASE_URL=https://api.deepseek.com/v1
OPENAI_MODEL=deepseek-chat
```

---

## ğŸ’¡ ä¼˜åŒ–å»ºè®®

### é˜²æ­¢åç«¯ä¼‘çœ 

1. æ³¨å†Œ https://uptimerobot.com/
2. Add New Monitor:
   - Type: HTTP(s)
   - URL: ä½ çš„åç«¯ URL
   - Interval: 5 minutes

### æŸ¥çœ‹å®æ—¶æ—¥å¿—

```bash
# Render æ—¥å¿—
Render Dashboard â†’ Logs â†’ å®æ—¶æŸ¥çœ‹

# Vercel æ—¥å¿—
Vercel Dashboard â†’ Deployments â†’ ç‚¹å‡»éƒ¨ç½² â†’ View Function Logs
```

### æ›´æ–°ä»£ç 

```bash
# åç«¯è‡ªåŠ¨éƒ¨ç½²
æ¨é€åˆ° GitHub â†’ Render è‡ªåŠ¨é‡æ–°éƒ¨ç½²

# å‰ç«¯è‡ªåŠ¨éƒ¨ç½²
æ¨é€åˆ° GitHub â†’ Vercel è‡ªåŠ¨é‡æ–°éƒ¨ç½²
```

---

## ğŸ“Š éƒ¨ç½²æ£€æŸ¥æ¸…å•

### å‡†å¤‡é˜¶æ®µ
- [ ] Neon è´¦å·å·²æ³¨å†Œ
- [ ] DeepSeek è´¦å·å·²æ³¨å†Œå¹¶å……å€¼
- [ ] Render è´¦å·å·²æ³¨å†Œ
- [ ] Vercel è´¦å·å·²æ³¨å†Œ
- [ ] æ‰€æœ‰ç¯å¢ƒå˜é‡å·²å‡†å¤‡å¥½

### éƒ¨ç½²é˜¶æ®µ
- [ ] åç«¯å·²éƒ¨ç½²åˆ° Render
- [ ] åç«¯çŠ¶æ€ä¸º "Live"
- [ ] æ•°æ®åº“å·²åˆå§‹åŒ–
- [ ] å‰ç«¯ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] å‰ç«¯å·²é‡æ–°éƒ¨ç½²

### æµ‹è¯•é˜¶æ®µ
- [ ] åç«¯ API æ–‡æ¡£å¯è®¿é—®
- [ ] å‰ç«¯é¡µé¢å¯æ­£å¸¸æ‰“å¼€
- [ ] å‰åç«¯å¯ä»¥é€šä¿¡
- [ ] AI åŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

## ğŸ’° è´¹ç”¨æ€»ç»“

| é¡¹ç›® | è´¹ç”¨ | è¯´æ˜ |
|------|------|------|
| Neon | å…è´¹ | 3GB å­˜å‚¨ï¼Œè¶³å¤Ÿä½¿ç”¨ |
| Render | å…è´¹ | ä¼šä¼‘çœ ï¼Œç”¨ UptimeRobot ä¿æŒå”¤é†’ |
| Vercel | å…è´¹ | 100GB å¸¦å®½/æœˆ |
| Upstash | å…è´¹ | 10K è¯·æ±‚/å¤©ï¼ˆå¯é€‰ï¼‰ |
| DeepSeek | 10å…ƒ | å¯ä»¥ç”¨å¾ˆä¹… |
| **æ€»è®¡** | **10å…ƒ** | ä¸€æ¬¡æ€§è´¹ç”¨ |

---

## ğŸ“ è·å–å¸®åŠ©

- è¯¦ç»†æ•™ç¨‹ï¼š`éƒ¨ç½²æ“ä½œæ‰‹å†Œ.md`
- ç¯å¢ƒå˜é‡ï¼š`ENV_VARIABLES_CHECKLIST.md`
- GitHub Issues: https://github.com/j-lab-10404/wechat-articles/issues
- é‚®ä»¶ï¼šliujie@njfu.edu.cn

---

**æ‰“å°è¿™å¼ å¡ç‰‡ï¼Œè¾¹çœ‹è¾¹æ“ä½œï¼** ğŸ“„
