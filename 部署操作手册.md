# ğŸš€ åç«¯éƒ¨ç½²æ“ä½œæ‰‹å†Œ

æŒ‰ç…§è¿™ä¸ªé¡ºåºæ“ä½œï¼Œ30åˆ†é’Ÿå†…å®Œæˆéƒ¨ç½²ã€‚

---

## ğŸ“ ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ç¯å¢ƒå˜é‡ï¼ˆ15åˆ†é’Ÿï¼‰

æ‰“å¼€ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ŒæŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤é€ä¸ªå¡«å†™ç¯å¢ƒå˜é‡ã€‚

### 1. æ•°æ®åº“ - Neon PostgreSQLï¼ˆ3åˆ†é’Ÿï¼‰

**æ“ä½œï¼š**

1. è®¿é—® https://neon.tech/
2. ç‚¹å‡»å³ä¸Šè§’ "Sign In" â†’ é€‰æ‹© "Continue with GitHub"
3. æˆæƒåï¼Œç‚¹å‡» "Create a project"
4. å¡«å†™ï¼š
   - Project name: `wechat-articles`
   - Region: é€‰æ‹© `Asia Pacific (Singapore)`
5. ç‚¹å‡» "Create project"
6. åœ¨é¡¹ç›®é¦–é¡µæ‰¾åˆ° "Connection Details"
7. å¤åˆ¶ "Connection string"ï¼ˆç±»ä¼¼è¿™æ ·çš„æ ¼å¼ï¼‰ï¼š
   ```
   postgresql://neondb_owner:abc123xyz@ep-cool-sun-123456.ap-southeast-1.aws.neon.tech/neondb?sslmode=require
   ```

**è®°å½•åˆ°æ–‡æœ¬æ–‡ä»¶ï¼š**
```
DATABASE_URL=postgresql://neondb_owner:abc123xyz@ep-cool-sun-123456.ap-southeast-1.aws.neon.tech/neondb?sslmode=require
```

---

### 2. AI API - DeepSeekï¼ˆ5åˆ†é’Ÿï¼‰

**æ“ä½œï¼š**

1. è®¿é—® https://platform.deepseek.com/
2. ç‚¹å‡»å³ä¸Šè§’ "ç™»å½•/æ³¨å†Œ"
3. ç”¨æ‰‹æœºå·æ³¨å†Œï¼ˆä¼šæ”¶åˆ°éªŒè¯ç ï¼‰
4. ç™»å½•åï¼Œç‚¹å‡»å·¦ä¾§ "è´¦æˆ·" â†’ "å……å€¼"
5. å……å€¼ 10 å…ƒï¼ˆæ”¯ä»˜å®æˆ–å¾®ä¿¡ï¼‰
6. ç‚¹å‡»å·¦ä¾§ "API Keys"
7. ç‚¹å‡» "åˆ›å»ºæ–°å¯†é’¥"
8. è¾“å…¥åç§°ï¼š`wechat-articles`
9. å¤åˆ¶ç”Ÿæˆçš„ API Keyï¼ˆä»¥ `sk-` å¼€å¤´ï¼‰

**è®°å½•åˆ°æ–‡æœ¬æ–‡ä»¶ï¼š**
```
OPENAI_API_KEY=sk-ä½ å¤åˆ¶çš„å¯†é’¥
OPENAI_BASE_URL=https://api.deepseek.com/v1
OPENAI_MODEL=deepseek-chat
```

---

### 3. åº”ç”¨å¯†é’¥ - SECRET_KEYï¼ˆ1åˆ†é’Ÿï¼‰

**æ“ä½œï¼š**

1. è®¿é—® https://randomkeygen.com/
2. æ‰¾åˆ° "Fort Knox Passwords" éƒ¨åˆ†ï¼ˆæœ€é•¿çš„é‚£ä¸ªï¼‰
3. å¤åˆ¶å…¶ä¸­ä¸€ä¸ªå¯†ç 

**è®°å½•åˆ°æ–‡æœ¬æ–‡ä»¶ï¼š**
```
SECRET_KEY=ä½ å¤åˆ¶çš„éšæœºå¯†ç 
```

---

### 4. å‰ç«¯åœ°å€ - CORS_ORIGINSï¼ˆ1åˆ†é’Ÿï¼‰

**æ“ä½œï¼š**

1. æ‰“å¼€ä½ çš„ Vercel Dashboard: https://vercel.com/dashboard
2. æ‰¾åˆ°ä½ çš„é¡¹ç›®ï¼ˆwechat-articlesï¼‰
3. å¤åˆ¶é¡¹ç›®çš„ URLï¼ˆç±»ä¼¼ `https://wechat-articles-xxx.vercel.app`ï¼‰

**è®°å½•åˆ°æ–‡æœ¬æ–‡ä»¶ï¼š**
```
CORS_ORIGINS=https://wechat-articles-xxx.vercel.app
```

---

### 5. Redisï¼ˆå¯é€‰ï¼Œ3åˆ†é’Ÿï¼‰

**å¦‚æœæƒ³è¦æ›´å¥½çš„æ€§èƒ½ï¼Œå¯ä»¥é…ç½® Redisï¼š**

1. è®¿é—® https://upstash.com/
2. ç‚¹å‡» "Sign In" â†’ "Continue with GitHub"
3. ç‚¹å‡» "Create Database"
4. å¡«å†™ï¼š
   - Name: `wechat-articles-redis`
   - Type: é€‰æ‹© `Regional`
   - Region: é€‰æ‹©ç¦»ä½ æœ€è¿‘çš„ï¼ˆå¦‚ Singaporeï¼‰
5. ç‚¹å‡» "Create"
6. åœ¨æ•°æ®åº“è¯¦æƒ…é¡µï¼Œæ‰¾åˆ° "REST API" éƒ¨åˆ†
7. å¤åˆ¶ "UPSTASH_REDIS_REST_URL"

**è®°å½•åˆ°æ–‡æœ¬æ–‡ä»¶ï¼š**
```
REDIS_URL=ä½ å¤åˆ¶çš„Redis URL
```

**å¦‚æœæš‚æ—¶ä¸é…ç½® Redisï¼Œè·³è¿‡è¿™ä¸€æ­¥å³å¯ã€‚**

---

### 6. å…¶ä»–é…ç½®ï¼ˆå›ºå®šå€¼ï¼‰

**ç›´æ¥å¤åˆ¶åˆ°æ–‡æœ¬æ–‡ä»¶ï¼š**
```
DEBUG=False
WEWE_RSS_URL=http://localhost:4000
```

---

### âœ… æ£€æŸ¥ä½ çš„ç¯å¢ƒå˜é‡

ç°åœ¨ä½ çš„æ–‡æœ¬æ–‡ä»¶åº”è¯¥æœ‰è¿™äº›å†…å®¹ï¼š

```bash
# å¿…éœ€çš„ç¯å¢ƒå˜é‡
DATABASE_URL=postgresql://neondb_owner:abc123xyz@...
OPENAI_API_KEY=sk-...
OPENAI_BASE_URL=https://api.deepseek.com/v1
OPENAI_MODEL=deepseek-chat
SECRET_KEY=ä½ çš„éšæœºå¯†ç 
CORS_ORIGINS=https://wechat-articles-xxx.vercel.app
DEBUG=False
WEWE_RSS_URL=http://localhost:4000

# å¯é€‰çš„ç¯å¢ƒå˜é‡
REDIS_URL=https://...ï¼ˆå¦‚æœé…ç½®äº†ï¼‰
```

ä¿å­˜è¿™ä¸ªæ–‡ä»¶ï¼Œä¸‹ä¸€æ­¥è¦ç”¨ï¼

---

## ğŸš€ ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²åç«¯åˆ° Renderï¼ˆ10åˆ†é’Ÿï¼‰

### 1. æ³¨å†Œ Renderï¼ˆ2åˆ†é’Ÿï¼‰

1. è®¿é—® https://render.com/
2. ç‚¹å‡»å³ä¸Šè§’ "Get Started"
3. é€‰æ‹© "Continue with GitHub"
4. æˆæƒ Render è®¿é—®ä½ çš„ GitHub

---

### 2. åˆ›å»º Web Serviceï¼ˆ3åˆ†é’Ÿï¼‰

1. åœ¨ Render Dashboardï¼Œç‚¹å‡» "New +" â†’ "Web Service"
2. æ‰¾åˆ°å¹¶é€‰æ‹© `j-lab-10404/wechat-articles` ä»“åº“
   - å¦‚æœæ²¡çœ‹åˆ°ï¼Œç‚¹å‡» "Configure account" æˆæƒè®¿é—®ç»„ç»‡ä»“åº“
3. å¡«å†™é…ç½®ï¼š
   ```
   Name: wechat-articles-backend
   Region: Singapore
   Branch: main
   Root Directory: backend
   Runtime: Docker
   ```
4. å‘ä¸‹æ»šåŠ¨ï¼Œæ‰¾åˆ° "Docker Command"ï¼Œç•™ç©º
5. æ‰¾åˆ° "Dockerfile Path"ï¼Œå¡«å†™ï¼š`../docker/backend.Dockerfile`
6. Instance Type: é€‰æ‹© "Free"

---

### 3. æ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆ5åˆ†é’Ÿï¼‰

åœ¨åŒä¸€é¡µé¢ï¼Œå‘ä¸‹æ»šåŠ¨åˆ° "Environment Variables" éƒ¨åˆ†ï¼š

1. ç‚¹å‡» "Add Environment Variable"
2. é€ä¸ªæ·»åŠ ä½ åœ¨ç¬¬ä¸€æ­¥å‡†å¤‡çš„ç¯å¢ƒå˜é‡ï¼š

**å¿…éœ€çš„å˜é‡ï¼ˆé€ä¸ªæ·»åŠ ï¼‰ï¼š**

| Key | Value |
|-----|-------|
| `DATABASE_URL` | ä½ çš„ Neon è¿æ¥å­—ç¬¦ä¸² |
| `OPENAI_API_KEY` | ä½ çš„ DeepSeek API Key |
| `OPENAI_BASE_URL` | `https://api.deepseek.com/v1` |
| `OPENAI_MODEL` | `deepseek-chat` |
| `SECRET_KEY` | ä½ ç”Ÿæˆçš„éšæœºå¯†ç  |
| `CORS_ORIGINS` | ä½ çš„ Vercel URL |
| `DEBUG` | `False` |
| `WEWE_RSS_URL` | `http://localhost:4000` |

**å¯é€‰çš„å˜é‡ï¼š**

| Key | Value |
|-----|-------|
| `REDIS_URL` | ä½ çš„ Upstash URLï¼ˆå¦‚æœé…ç½®äº†ï¼‰ |

3. æ·»åŠ å®Œæ‰€æœ‰ç¯å¢ƒå˜é‡åï¼Œç‚¹å‡»é¡µé¢åº•éƒ¨çš„ "Create Web Service"

---

### 4. ç­‰å¾…éƒ¨ç½²ï¼ˆ5-10åˆ†é’Ÿï¼‰

1. Render ä¼šå¼€å§‹æ„å»ºå’Œéƒ¨ç½²
2. ä½ ä¼šçœ‹åˆ°å®æ—¶æ—¥å¿—
3. ç­‰å¾…çŠ¶æ€å˜ä¸º "Live"ï¼ˆç»¿è‰²ï¼‰
4. å¤åˆ¶ä½ çš„åç«¯ URLï¼ˆç±»ä¼¼ `https://wechat-articles-backend.onrender.com`ï¼‰

---

## ğŸ”— ç¬¬ä¸‰æ­¥ï¼šè¿æ¥å‰åç«¯ï¼ˆ5åˆ†é’Ÿï¼‰

### 1. åˆå§‹åŒ–æ•°æ®åº“ï¼ˆ2åˆ†é’Ÿï¼‰

1. åœ¨ Render Dashboardï¼Œè¿›å…¥ä½ çš„æœåŠ¡
2. ç‚¹å‡»é¡¶éƒ¨çš„ "Shell" æ ‡ç­¾
3. ç­‰å¾… Shell åŠ è½½å®Œæˆ
4. è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶å›è½¦ï¼š
   ```bash
   python -c "from app.database import init_db; init_db()"
   ```
5. åº”è¯¥çœ‹åˆ° "Database initialized successfully" æˆ–ç±»ä¼¼çš„æˆåŠŸæ¶ˆæ¯

---

### 2. é…ç½®å‰ç«¯è¿æ¥åç«¯ï¼ˆ3åˆ†é’Ÿï¼‰

1. æ‰“å¼€ Vercel Dashboard: https://vercel.com/dashboard
2. è¿›å…¥ä½ çš„é¡¹ç›®ï¼ˆwechat-articlesï¼‰
3. ç‚¹å‡»é¡¶éƒ¨çš„ "Settings"
4. ç‚¹å‡»å·¦ä¾§çš„ "Environment Variables"
5. ç‚¹å‡» "Add New"
6. å¡«å†™ï¼š
   - Key: `VITE_API_BASE_URL`
   - Value: `https://wechat-articles-backend.onrender.com/api`
     ï¼ˆæ›¿æ¢ä¸ºä½ çš„ Render åç«¯ URLï¼Œè®°å¾—åŠ  `/api`ï¼‰
7. é€‰æ‹©æ‰€æœ‰ç¯å¢ƒï¼ˆProduction, Preview, Developmentï¼‰
8. ç‚¹å‡» "Save"
9. å›åˆ° "Deployments" æ ‡ç­¾
10. ç‚¹å‡»æœ€æ–°çš„éƒ¨ç½² â†’ ç‚¹å‡»å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹ â†’ "Redeploy"
11. ç¡®è®¤é‡æ–°éƒ¨ç½²

---

## ğŸ‰ ç¬¬å››æ­¥ï¼šæµ‹è¯•åº”ç”¨ï¼ˆ5åˆ†é’Ÿï¼‰

### 1. æµ‹è¯•åç«¯ API

1. è®¿é—®ï¼š`https://ä½ çš„åç«¯URL/docs`
   - ä¾‹å¦‚ï¼š`https://wechat-articles-backend.onrender.com/docs`
2. åº”è¯¥èƒ½çœ‹åˆ° Swagger API æ–‡æ¡£ç•Œé¢
3. å°è¯•å±•å¼€ "GET /api/health" æˆ–ç±»ä¼¼çš„å¥åº·æ£€æŸ¥æ¥å£
4. ç‚¹å‡» "Try it out" â†’ "Execute"
5. åº”è¯¥è¿”å› 200 çŠ¶æ€ç 

---

### 2. æµ‹è¯•å‰ç«¯åº”ç”¨

1. è®¿é—®ä½ çš„ Vercel URLï¼š`https://wechat-articles-xxx.vercel.app`
2. åº”è¯¥èƒ½çœ‹åˆ°é¦–é¡µ
3. å°è¯•ç‚¹å‡»å¯¼èˆªèœå•
4. æ£€æŸ¥æ˜¯å¦èƒ½æ­£å¸¸åŠ è½½é¡µé¢

---

### 3. æµ‹è¯•å®Œæ•´åŠŸèƒ½

1. åœ¨å‰ç«¯å°è¯•æ·»åŠ ä¸€ä¸ªå…¬ä¼—å·ï¼ˆå¦‚æœæœ‰ç•Œé¢çš„è¯ï¼‰
2. æˆ–è€…ç›´æ¥åœ¨ API æ–‡æ¡£ä¸­æµ‹è¯•æ¥å£

---

## âœ… å®Œæˆï¼

æ­å–œï¼ä½ çš„åº”ç”¨å·²ç»å®Œå…¨éƒ¨ç½²å¥½äº†ï¼

### ğŸ“Š éƒ¨ç½²æ€»ç»“

| æœåŠ¡ | çŠ¶æ€ | URL |
|------|------|-----|
| å‰ç«¯ | âœ… å·²éƒ¨ç½² | https://wechat-articles-xxx.vercel.app |
| åç«¯ | âœ… å·²éƒ¨ç½² | https://wechat-articles-backend.onrender.com |
| æ•°æ®åº“ | âœ… å·²åˆ›å»º | Neon PostgreSQL |
| AI API | âœ… å·²é…ç½® | DeepSeek |
| Redis | â³ å¯é€‰ | Upstashï¼ˆå¦‚æœé…ç½®äº†ï¼‰ |

### ğŸ’° è´¹ç”¨

- Vercel: å…è´¹
- Render: å…è´¹ï¼ˆä¼šä¼‘çœ ï¼Œä½†å¯ä»¥ç”¨ UptimeRobot ä¿æŒå”¤é†’ï¼‰
- Neon: å…è´¹ï¼ˆ3GB å­˜å‚¨ï¼‰
- Upstash: å…è´¹ï¼ˆ10K è¯·æ±‚/å¤©ï¼‰
- DeepSeek: 10 å…ƒï¼ˆå¯ä»¥ç”¨å¾ˆä¹…ï¼‰

**æ€»è®¡ï¼š10 å…ƒäººæ°‘å¸**

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: Render åç«¯æ˜¾ç¤º "Service Unavailable"ï¼Ÿ

**A:** å…è´¹ç‰ˆä¼šåœ¨ 15 åˆ†é’Ÿæ— æ´»åŠ¨åä¼‘çœ ã€‚è§£å†³æ–¹æ³•ï¼š

1. è®¿é—® https://uptimerobot.com/
2. æ³¨å†Œå¹¶ç™»å½•
3. ç‚¹å‡» "Add New Monitor"
4. å¡«å†™ï¼š
   - Monitor Type: HTTP(s)
   - Friendly Name: wechat-articles-backend
   - URL: ä½ çš„åç«¯ URL
   - Monitoring Interval: 5 minutes
5. ç‚¹å‡» "Create Monitor"

è¿™æ ·åç«¯å°±ä¸ä¼šä¼‘çœ äº†ã€‚

---

### Q2: å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

1. åç«¯æ˜¯å¦éƒ¨ç½²æˆåŠŸï¼ˆè®¿é—® `/docs` çœ‹æ˜¯å¦èƒ½æ‰“å¼€ï¼‰
2. Vercel ç¯å¢ƒå˜é‡ `VITE_API_BASE_URL` æ˜¯å¦æ­£ç¡®è®¾ç½®
3. åç«¯ç¯å¢ƒå˜é‡ `CORS_ORIGINS` æ˜¯å¦åŒ…å«å‰ç«¯ URL
4. å‰ç«¯æ˜¯å¦é‡æ–°éƒ¨ç½²ï¼ˆä¿®æ”¹ç¯å¢ƒå˜é‡åéœ€è¦é‡æ–°éƒ¨ç½²ï¼‰

---

### Q3: æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥ï¼Ÿ

**A:** åœ¨ Render Shell ä¸­è¿è¡Œï¼š

```bash
# æ£€æŸ¥æ•°æ®åº“è¿æ¥
python -c "from app.database import engine; print(engine.url)"

# é‡æ–°åˆå§‹åŒ–
python -c "from app.database import init_db; init_db()"
```

---

### Q4: AI åˆ†æä¸å·¥ä½œï¼Ÿ

**A:** æ£€æŸ¥ï¼š

1. DeepSeek API Key æ˜¯å¦æ­£ç¡®
2. æ˜¯å¦æœ‰ä½™é¢ï¼ˆç™»å½• DeepSeek å¹³å°æŸ¥çœ‹ï¼‰
3. åç«¯æ—¥å¿—ä¸­æ˜¯å¦æœ‰é”™è¯¯ï¼ˆRender Dashboard â†’ Logsï¼‰

---

## ğŸ“š ä¸‹ä¸€æ­¥

ç°åœ¨ä½ å¯ä»¥ï¼š

1. å¼€å§‹ä½¿ç”¨åº”ç”¨æ”¶é›†å¾®ä¿¡æ–‡ç« 
2. æŸ¥çœ‹ [ä½¿ç”¨æ–‡æ¡£](docs/QUICK_START.md)ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
3. è‡ªå®šä¹‰åŠŸèƒ½å’Œæ ·å¼
4. é‚€è¯·å…¶ä»–äººä½¿ç”¨

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

- GitHub Issues: https://github.com/j-lab-10404/wechat-articles/issues
- é‚®ä»¶: liujie@njfu.edu.cn

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
